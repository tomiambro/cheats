% tests

$ compose_file: "docker-compose.yml"
$ container_name: "django"

# Run tests with pytest inside the container
echo "docker-compose -f $compose_file run $container_name pytest"
docker-compose -f ./"$compose_file" run $container_name pytest

# Run tests with coverage
docker-compose -f $compose_file run $container_name coverage run --source=app -m pytest -v
docker-compose -f $compose_file run $container_name coverage report -m
